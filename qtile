---
- name: qtile
  hosts: all
  sudo: yes
  tasks:
    - action: apt
      args:
        name: "{{item}}"
      with_items:
        - libxcb-render0-dev
        - libffi-dev
        - libpangocairo-1.0-0
        - python-dbus
        - libiw-dev
        - aptitude # for update checking
    - action: pip
      args:
        name: "{{item}}"
      with_items:
        - xcffib
        - cairocffi
        - trollius
        - iwlib
        - qtile
        - sh
    - action: copy
      args:
        dest: /usr/share/xsessions/qtile.desktop
        content: |
          [Desktop Entry]
          Encoding=UTF-8
          Name=qtile
          Comment=A full-featured, pure-Python tiling window manager
          TryExec=qtile
          Exec=qtile
          Type=Application
- name: qtile hacking
  hosts: all
  tasks:
    - action: apt
      sudo: yes
      args:
        name: "{{item}}"
      with_items:
        - xserver-xephyr
      action: pip
      args:
        name: "{{item}}"
        virtualenv: "{{lookup('ENV', 'HOME')}}/.virtualenv"
      with_items:
        - cairocffi
        - iwlib
        - nose
        - sh
        - trollius
        - xffib


# Local Variables:
# mode: yaml
# End:
