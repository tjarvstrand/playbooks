---
- name: Install xmonad
  hosts: all
  tasks:
    - action: apt
      name: Install packages
      args:
        name: "{{item}}"
        force: yes
      with_items:
        - gnome-panel
        - xmonad
        - libghc-dbus-dev
        - cabal-install
    become: yes
    - shell: cabal update
    - shell: cabal install xmonad-extras xmonad-contrib
      name: Install xmonad-extras
    - shell: xmonad --recompile
      name: Recompile xmonad

    - shell: "ls -1d ~/.mozilla/firefox/*.default"
      register: user_js_dir
    - action: copy
      name: Firefox ignore fullscreen widgets
      args:
        dest: "{{user_js_dir.stdout}}/user.js"
        content: |
          user_pref("full-screen-api.ignore-widgets","true");

# Local Variables:
# mode: yaml
# End:
